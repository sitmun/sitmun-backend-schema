schema {
  name = SITMUNDB.PUBLIC
  entities = [
    {
      type = "Tabla Liquibase"
      table = "DATABASECHANGELOG"
      description = """
          Forma parte del sistema de *Liquibase*. *Liquibase* utiliza la tabla `DATABASECHANGELOG` para rastrear los
          `changesets` (cambios insertados por *Liquibase*) que se han ejecutado.

          La tabla rastrea cada `changeset` como una fila, identificada por una combinación de las columnas `id`,
          `author` y `filename`.

          No hay una clave primaria en esta tabla. Esto es para evitar cualquier restricción específica de la base de
          datos sobre la longitud de las claves. La combinación de `id`, `autor` y `filename` es única en todas las
          filas de la tabla.
         """
    },
    {
      type = "Tabla Liquibase"
      table = "DATABASECHANGELOGLOCK"
      description = """
          Forma parte del sistema de *Liquibase*. *Liquibase* utiliza la tabla `DATABASECHANGELOGLOCK` para garantizar
          que sólo se ejecuta una instancia de *Liquibase* al mismo tiempo.
         """
    },
    {
      type = "Entidad"
      name = "Aplicación"
      table = "STM_APP"
      description = """
          Define una *Aplicación* de SITMUN.

          La Entidad correspondiente en Java es:

          `org.sitmun.common.domain.application.Application`
         """
    },
    {
      type = "Entidad"
      name = "Mapa de Fondo de Aplicación"
      table = "STM_APP_BCKG"
      description = """
          Establece que una *Aplicación* de SITMUN usa un *Mapa de Fondo*.

          La Entidad correspondiente en Java es:

          `org.sitmun.common.domain.application.background.ApplicationBackground`
         """
    },
    {
      type = "Relación"
      name = "Rol de Aplicación"
      table = "STM_APP_ROL"
      description = """
          Establece que una *Aplicación* de SITMUN tiene concedido un *Rol*.
         """
    },
    {
      type = "Relación"
      name = "Árbol de Aplicación"
      table = "STM_APP_TREE"
      description = """
          Establece que una *Aplicación* de SITMUN tiene acceso a un *Árbol de Recursos*.
         """
    },
    {
      type = "Entidad"
      name = "Información Geográfica accesible por Territorio"
      table = "STM_AVAIL_GI"
      description = """
          Establece que un *Territorio* de SITMUN tiene acceso a *Información Geográfica*.

          La Entidad correspondiente en Java es:

          `org.sitmun.common.domain.cartography.availability.CartographyAvailability`
         """
    },
    {
      type = "Entidad"
      name = "Tarea accesible por Territorio"
      table = "STM_AVAIL_TSK"
      description = """
          Establece que un *Territorio* de SITMUN tiene acceso a una *Tarea*.

          La Entidad correspondiente en Java es:

          `org.sitmun.common.domain.task.availability.TaskAvailability`
         """
    },
    {
      type = "Entidad"
      name = "Mapa de Fondo"
      table = "STM_BACKGRD"
      description = """
          Crea un *Fondo de mapa* asociado a un *Permiso de Información Geográfica*.

          La Entidad correspondiente en Java es:

          `org.sitmun.common.domain.background.Background`
         """
    },
    {
      type = "Entidad"
      name = "Lista de códigos"
      table = "STM_CODELIST"
      description = """
          Permite definir `Lista de códigos` que son usadas como restricciones por parte de la aplicación de
          administración.

          La Entidad correspondiente en Java es:

          `org.sitmun.common.types.codelist.CodeListValue`
         """
    },
    {
      type = "Entidad"
      name = "Comentarios"
      table = "STM_COMMENT"
      description = """
          Permite almacenar `Comentarios` procedentes de los usuarios y notas.

          La Entidad correspondiente en Java es:

          `org.sitmun.common.domain.comment.Comment`
         """
    },
    {
      type = "Entidad"
      name = "Parámetros de configuración"
      table = "STM_CONF"
      description = """
          Permite almacenar `Parámetros de configuración` que van a ser utilizados por las aplicaciones.

          La Entidad correspondiente en Java es:

          `org.sitmun.common.domain.configuration.ConfigurationParameter`
         """
    },
    {
      type = "Entidad"
      name = "Conexión a base de datos"
      table = "STM_CONNECT"
      description = """
          Permite definir una `Conexión a base de datos` JDBC.

          La Entidad correspondiente en Java es:

          `org.sitmun.common.domain.database.DatabaseConnection`
         """
    },
    {
      type = "Entidad obsoleta"
      name = "Tarea de Descargas"
      table = "STM_DOWNLOAD"
      description = """
          IMPORTANT
          ====
          El contenido de esta tabla originaria de SITMUN 2 está en la entidad `Tarea`.
          Esta tabla solo estará presente durante desarrollo. No forma parte del esquema de producción
          ====
         """
    },
    {
      type = "Entidad"
      name = "Filtro de Información Geográfica"
      table = "STM_FIL_GI"
      description = """
          Permite definir un `Filtro de Información Geográfica` que puede ser utilizado para restringir la información
          geográfica que se muestra al usuario.

          La Entidad correspondiente en Java es:

          `org.sitmun.common.domain.cartography.filter.CartographyFilter`
         """
    },
    {
      type = "Entidad"
      name = "Información Geográfica"
      table = "STM_GEOINFO"
      description = """
          Permite definir como un recurso de `Información Geográfica` un conjunto de recursos ofrecidos por un
          servidor remoto.

          La Entidad correspondiente en Java es:

          `org.sitmun.common.domain.cartography.Cartography`
         """
    },
    {
      type = "Entidad"
      name = "Permiso de Información Geográfica"
      table = "STM_GGI_GI"
      description = """
          Establece los *Permiso de Información Geográfica* a los que un recurso de *Información Geográfica* pertenece.
         """
    },
    {
      type = "Relación"
      name = "Información Geograáfica miembro de Permiso de Información Geográfica"
      table = "STM_GRP_GI"
      description = """
          Define los distintos *Permiso de Información Geográfica* existentes. Cada *Permiso de Información Geográfica*
          está formado por un conjunto de recursos de *Información Geográfica*.

          La Entidad correspondiente en Java es:

          `org.sitmun.common.domain.permission.CartographyPermission`
         """
    },
    {
      type = "Relación"
      name = "Territorio es miembro de otro Territorio"
      table = "STM_GRP_TER"
      description = """
          Establece si un *Territorio* es miembro de otro *Territorio*.  La naturaleza de esta relación debe ser
          deducida de la tipología de los territorios que participan en ella.

          Deben evitarse relaciones circulares.
         """
    },
    {
      type = "Entidad"
      name = "Grupo de Tareas"
      table = "STM_GRP_TSK"
      description = """
          Agrupa a las `Tareas` en unidades lógicas.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.task.group.TaskGroup`

          NOTE: Tal como está definida podría ser susituida por una lista controlada.
         """
    },
    {
      type = "Entidad"
      name = "Tipo de Grupo de Territorios"
      table = "STM_GTER_TYP"
      description = """
          Agrupa a los *Territorios* en unidades lógicas.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.territory.type.TerritoryGroupType`

          NOTE: Esta entidad está marcada como obsoleta. La entidad *Tipo de Territorio* la reemplaza.
         """
    },
    {
      type = "Entidad"
      name = "Lenguajes"
      table = "STM_LANGUAGE"
      description = """
          Lenguajes soportados por los Interfaces de Usuario.

          La Entidad correspondiente en Java:

          `org.sitmun.common.types.i18n.Language`
         """
    },
    {
      type = "Entidad"
      name = "Registro de mensajes"
      table = "STM_LOG"
      description = """
          Registro de mensajes del sistema.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.log.Log`

          NOTE: Podría ser sustituido por un sistema de monitorización externo.
         """
    },
    {
      type = "Entidad"
      name = "Parámetro de Aplicación"
      table = "STM_PAR_APP"
      description = """
          Parámetro de configuración específico de una Aplicación.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.application.parameter.ApplicationParameter`
         """
    },
    {
      type = "Entidad"
      name = "Parámetro de Información Geográfica (servicios de visualización)"
      table = "STM_PAR_GI"
      description = """
          Parámetro de configuración específico de un recurso de Información Geográfica.
          Este parámetro será utilizado por los servicios de visualización.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.cartography.parameter.CartographyParameter`
         """
    },
    {
      type = "Entidad"
      name = "Parámetro de Servicio"
      table = "STM_PAR_SER"
      description = """
          Parámetro de configuración específico de un Servicio.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.service.parameter.ServiceParameter`
         """
    },
    {
      type = "Entidad"
      name = "Parámetro de Información Geográfica (servicios de selección espacial)"
      table = "STM_PAR_SGI"
      description = """
          Parámetro de configuración específico de un recurso de Información Geográfica.
          Este parámetro será utilizado por los servicios de selección espacial.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.cartography.parameter.CartographySpatialSelectionParameter`
         """
    },
    {
      type = "Entidad obsoleta"
      name = "Parámetro de Tarea"
      table = "STM_PAR_TSK"
      description = """
          IMPORTANT
          ====
          El contenido de esta tabla originaria de SITMUN 2 está en la entidad `Tarea`.
          Esta tabla solo estará presente durante desarrollo. No forma parte del esquema de producción
          ====
         """
    },
    {
      type = "Entidad"
      name = "Puesto de trabajo"
      table = "STM_POST"
      description = """
          Describe el puesto de trabajo ocupado por un usuario.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.user.position.UserPosition`
         """
    },
    {
      type = "Entidad obsoleta"
      name = "Tarea de Consultas"
      table = "STM_QUERY"
      description = """
          IMPORTANT
          ====
          El contenido de esta tabla originaria de SITMUN 2 está en la entidad `Tarea`.
          Esta tabla solo estará presente durante desarrollo. No forma parte del esquema de producción
          ====
         """
    },
    {
      type = "Relación"
      name = "Rol da acceso a Permiso de Información Geográfica"
      table = "STM_ROL_GGI"
      description = """
          Establece que un *Rol* está asociado a un *Permiso de Información Geográfica*.
          Es decir, que los *Usuarios* que tenan dicho *Rol* pueden acceder a los recursos de
          *Información Grográfica* que son miembros de dicho *Permiso de Información Geográfica*
          e invocar servicios asociados a los recursos.
         """
    },
    {
      type = "Relación"
      name = "Rol da acceso a Tarea"
      table = "STM_ROL_TSK"
      description = """
          Establece que un *Rol* está asociado a una *Tarea*.
          Es decir, que los *Usuarios* que tenan dicho *Rol* pueden acceder a dicha *Tarea*
          e invocar servicios asociados a la tarea.
         """
    },
    {
      type = "Entidad"
      name = "Rol"
      table = "STM_ROLE"
      description = """
          Define un *Rol*.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.role.Rol`
         """
    },
    {
      type = "Tabla Hibernate/Spring"
      table = "STM_SEQUENCE"
      description = """
          Forma parte del sistema de *Hibernate/Spring* de persistencia.
          Almacena el valor de la  clave primaria de cada entidad de persistencia.
         """
    },
    {
      type = "Entidad"
      name = "Servicio"
      table = "STM_SERVICE"
      description = """
          Descripción de un servicio remoto.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.service.Service`
         """
    },
    {
      type = "Entidad"
      name = "Estilo de Información Geográfica"
      table = "STM_STY_GI"
      description = """
          Descripción de un *Estilo* que se puede aplicar a una *Información Geográfica*.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.cartography.style.CartographyStyle`
         """
    },
    {
      type = "Entidad"
      name = "Tarea"
      table = "STM_TASK"
      description = """
          Define una *Tarea* que puede ser usada en las aplicaciones clientes por los *Usuarios*.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.task.Task`
         """
    },
    {
      type = "Relación"
      name = "Tarea relacionada con Tarea"
      table = "STM_TASKREL"
      description = """
          Permite definir relaciones nominales entre *Tareas*.
         """
    },
    {
      type = "Entidad"
      name = "Tipo de territorio"
      table = "STM_TER_TYP"
      description = """
          Permite definir un *Tipo de Territorio* especificando su posición en la jerarquía y su oficialidad.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.territory.type.TerritoryType`
         """
    },
    {
      type = "Entidad"
      name = "Territorio"
      table = "STM_TERRITORY"
      description = """
          Permite definir un *Territorio*.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.territory.Territory`
         """
    },
    {
      type = "Entidad obsoleta"
      name = "Rango Mapa Temático"
      table = "STM_THE_RANK"
      description = """
          IMPORTANT
          ====
          El contenido de esta tabla originaria de SITMUN 2 está en la entidad `Tarea`.
          Esta tabla solo estará presente durante desarrollo. No forma parte del esquema de producción
          ====
         """
    },
    {
      type = "Entidad obsoleta"
      name = "Mapa Temático"
      table = "STM_THEMATIC"
      description = """
          IMPORTANT
          ====
          El contenido de esta tabla originaria de SITMUN 2 está en la entidad `Tarea`.
          Esta tabla solo estará presente durante desarrollo. No forma parte del esquema de producción
          ====
         """
    },
    {
      type = "Entidad"
      name = "Traducción"
      table = "STM_TRANSLATION"
      description = """
          Permite almacenar la traducción a cualquier idioma de cualquier texto almacenado.

          La Entidad correspondiente en Java:

          `org.sitmun.common.types.i18n.Translation`
         """
    },
    {
      type = "Entidad"
      name = "Árbol de Recursos"
      table = "STM_TREE"
      description = """
          Permite definir un *Árbol de Recursos*.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.tree.Tree`
         """
    },
    {
      type = "Entidad"
      name = "Nodo de un Árbol de Recursos"
      table = "STM_TREE_NOD"
      description = """
          Permite definir un nodo de un *Árbol de Recursos*.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.tree.Tree`
         """
    },
    {
      type = "Relación"
      name = "Rol da acceso a Árbol de Recursos"
      table = "STM_TREE_ROL"
      description = """
          Establece que un *Rol* está asociado a un *Árbol de Recursos*.
          Es decir, que los *Usuarios* que tenan dicho *Rol* pueden acceder a dicho *Árbol de Recursos*.
         """
    },
    {
      type = "Entidad"
      name = "Tipo de Tarea"
      table = "STM_TSK_TYP"
      description = """
          Permite definir un *Tipo de Tarea*.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.task.type.TaskType`
         """
    },
    {
      type = "Entidad"
      name = "Componente visual de Tarea"
      table = "STM_TSK_UI"
      description = """
          Permite definir un *Componente visual de Tarea*.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.task.ui.TaskUI`
         """
    },
    {
      type = "Entidad"
      name = "Usuario"
      table = "STM_USER"
      description = """
          Permite definir un *Usuario*.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.user.User`
         """
    },
    {
      type = "Entidad"
      name = "Permiso de Usuario"
      table = "STM_USR_CONF"
      description = """
          Permite establecer que *Usuario* tiene un *Rol* en un *Territorio*
          o en los miembros de dicho *Terriorio*.

          La Entidad correspondiente en Java:

          `org.sitmun.common.domain.user.configuration.UserConfiguration`
         """
    },
  ]
}
